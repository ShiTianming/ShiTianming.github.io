<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>Titan图形数据库学习笔记（一）</title>
      <link href="/2018/07/10/Titan%E5%9B%BE%E5%BD%A2%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/"/>
      <url>/2018/07/10/Titan%E5%9B%BE%E5%BD%A2%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/</url>
      <content type="html"><![CDATA[<h2 id="Titan数据库简介"><a href="#Titan数据库简介" class="headerlink" title="Titan数据库简介"></a>Titan数据库简介</h2><blockquote><p>Titan 是一个可扩展的图形数据库，结合HBase、Cassandra、BerkeleyDB提供存储功能，ES、Lucene、Solar提供索引功能，可利用Hadoop计算框架对图数据进行分析、统计。经过优化，可用于存储和索引分布于多节点集群的百亿级顶点和边的图，同时，Titan又是一个事务数据库，可以支持数千个并发用户实时执行复杂图形遍历。 </p></blockquote><ol><li><p>框架<br>Titan是一个图形数据库引擎，其本身专注于紧凑图表序列化，丰富的图形数据库建模和高效的查询执行。其框架主要如下:<br> <img src="Snipaste_2018-07-10_13-57-47.png" alt=""><br> Titan与底层磁盘之间有多个存储和索引适配器：</p><ul><li>存储：<ul><li>Cassandra</li><li>HBase</li><li>BerkeleyDB</li></ul></li><li><p>索引：</p><ul><li>Elasticsearch</li><li>Solr</li><li>Lucene</li></ul><p>Titan提供了三种交互式接口：</p></li><li>TitanGraph API</li><li>TinkPop API</li><li>Management API</li></ul></li></ol><h2 id="Titan数据库环境配置"><a href="#Titan数据库环境配置" class="headerlink" title="Titan数据库环境配置"></a>Titan数据库环境配置</h2><ol><li>下载<a href="https://github.com/thinkaurelius/titan/wiki/Downloads" target="_blank" rel="noopener">titan-1.0.0-hadoop2.zip</a>解压。</li><li><p>配置文件</p><ul><li><p>进入<code>conf/es</code>文件夹，配置<code>elasticsearch.yml</code>，截取如下：</p>  <figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">path.data:</span> <span class="string">db/es/data</span></span><br><span class="line"><span class="string">path.work:</span> <span class="string">db/es/work</span></span><br><span class="line"><span class="string">path.logs:</span> <span class="string">log</span></span><br><span class="line"><span class="string">path.plugins:</span> <span class="string">bin/esplugins</span></span><br><span class="line"><span class="string">network.host:</span> <span class="number">22.144</span><span class="number">.110</span><span class="number">.125</span></span><br><span class="line"><span class="string">transport.tcp.port:</span> <span class="number">9300</span></span><br><span class="line"><span class="string">http.port:</span> <span class="number">9200</span></span><br><span class="line"><span class="string">discovery.zen.ping.unicast.hosts:</span> <span class="string">["hadoop1","hadoop2","hadoop3","hadoop4","hadoop5","hadoop6"]</span></span><br></pre></td></tr></table></figure></li><li><p>进入<code>conf</code>文件夹，配置<code>titan-hbase-es.properties</code>，截取如下：</p>  <figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">storage.backend=hbase</span></span><br><span class="line"><span class="string">storage.hostname=hadoop1,</span> <span class="string">hadoop2,</span> <span class="string">hadoop3,</span> <span class="string">hadoop4,</span> <span class="string">hadoop5,</span> <span class="string">hadoop6</span></span><br><span class="line"><span class="string">cache.db-cache</span> <span class="string">=</span> <span class="literal">true</span></span><br><span class="line"><span class="string">cache.db-cache-clean-wait</span> <span class="string">=</span> <span class="number">20</span></span><br><span class="line"><span class="string">cache.db-cache-time</span> <span class="string">=</span> <span class="number">180000</span></span><br><span class="line"><span class="string">cache.db-cache-size</span> <span class="string">=</span> <span class="number">0.5</span></span><br><span class="line"><span class="string">index.search.backend=elasticsearch</span></span><br><span class="line"><span class="string">index.search.hostname=hadoop5</span></span><br><span class="line"><span class="string">index.search.elasticsearch.client-only=true</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>启动</p><ul><li>进入<code>bin</code>目录，运行<code>elasticsearch</code>：<br>  <img src="Snipaste_2018-07-11_14-35-21.png" alt=""></li><li>重开终端，运行<code>gremlin.sh</code>：<br>  <img src="Snipaste_2018-07-11_14-37-53.png" alt=""></li><li><p>输入以下脚本：</p>  <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">graph = TitanFactory.open(<span class="string">'../conf/titan-hbase-es.properties'</span>)</span><br><span class="line">g = graph.traversal()</span><br><span class="line">saturn = g.V().has(<span class="string">'name'</span>, <span class="string">'saturn'</span>).next()</span><br></pre></td></tr></table></figure><p>  <img src="Snipaste_2018-07-11_15-04-23.png" alt=""><br>  <img src="Snipaste_2018-07-11_15-05-54.png" alt=""></p></li></ul></li></ol><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><blockquote><ul><li><a href="http://s3.thinkaurelius.com/docs/titan/1.0.0/getting-started.html" target="_blank" rel="noopener">http://s3.thinkaurelius.com/docs/titan/1.0.0/getting-started.html</a></li><li><a href="http://database.51cto.com/art/201804/570147.htm" target="_blank" rel="noopener">http://database.51cto.com/art/201804/570147.htm</a></li><li><a href="https://blog.csdn.net/samhacker/article/details/39721131" target="_blank" rel="noopener">https://blog.csdn.net/samhacker/article/details/39721131</a></li><li><a href=""></a></li></ul></blockquote>]]></content>
      
      <categories>
          
          <category> 图形数据库 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Titan </tag>
            
            <tag> Elasticsearch </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>基于华为云的CDH配置介绍</title>
      <link href="/2018/06/28/%E5%9F%BA%E4%BA%8E%E5%8D%8E%E4%B8%BA%E4%BA%91%E7%9A%84CDH%E9%85%8D%E7%BD%AE%E4%BB%8B%E7%BB%8D/"/>
      <url>/2018/06/28/%E5%9F%BA%E4%BA%8E%E5%8D%8E%E4%B8%BA%E4%BA%91%E7%9A%84CDH%E9%85%8D%E7%BD%AE%E4%BB%8B%E7%BB%8D/</url>
      <content type="html"><![CDATA[<h2 id="基础环境配置"><a href="#基础环境配置" class="headerlink" title="基础环境配置"></a>基础环境配置</h2><blockquote><p>说明：参考文章<a href="https://shitianming.github.io/2018/06/27/CDH%E4%BC%AA%E5%88%86%E5%B8%83%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/">CDH伪分布搭建教程</a>。此处作为补充。整个操作在root用户下进行。 </p></blockquote><ol><li><p>安装图形化界面（非必须）</p> <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum groupinstall <span class="string">"X Window System"</span>  <span class="comment">#1</span></span><br><span class="line">yum groupinstall <span class="string">"GNOME Desktop"</span> <span class="string">"Graphical Administration Tools"</span>   <span class="comment">#2</span></span><br><span class="line">ln -sf /lib/systemd/system/runlevel5.target /etc/systemd/system/default.target  <span class="comment">#3</span></span><br><span class="line">reboot  <span class="comment">#4</span></span><br></pre></td></tr></table></figure></li><li><p>安装Anaconda</p><blockquote><p>说明：考虑到多用户使用存在的权限问题，将安装路径设置为<code>/usr/local/anaconda3</code>。 </p></blockquote><ul><li><p>更改权限：</p>  <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 777 Anaconda3-5.1.0-Linux-x86_64.sh</span><br></pre></td></tr></table></figure></li><li><p>执行安装，安装过程中手动添加安装路径<code>/usr/local/anaconda3</code>，选择添加<code>path</code>至<code>~/.bashrc</code>中，不安装Mircosoft vsCode。</p>  <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh Anaconda3-5.1.0-Linux-x86_64.sh</span><br></pre></td></tr></table></figure></li><li><p>添加spyder链接：</p><blockquote><p>方便在MobaXterm中打开图形化界面。</p>  <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /usr/<span class="built_in">local</span>/anaconda3/bin/spyder /usr/bin/spyder</span><br></pre></td></tr></table></figure></blockquote></li><li><p>重启：</p>  <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure></li></ul></li></ol><h2 id="添加hive服务"><a href="#添加hive服务" class="headerlink" title="添加hive服务"></a>添加hive服务</h2><ol><li><p>添加hive所需库：</p> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 在mysql中执行</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">'hive'</span>@<span class="string">'%'</span> <span class="keyword">identified</span> <span class="keyword">by</span> <span class="string">'Password3#'</span>;</span><br><span class="line"><span class="keyword">grant</span> all <span class="keyword">on</span> *.* <span class="keyword">to</span> <span class="string">'hive'</span>@<span class="string">'%'</span> <span class="keyword">identified</span> <span class="keyword">by</span> <span class="string">'Password3#'</span>;</span><br><span class="line"><span class="keyword">flush</span> <span class="keyword">privileges</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> metastore;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">database</span> hive <span class="built_in">character</span> <span class="keyword">set</span> latin1;</span><br></pre></td></tr></table></figure></li><li><p>添加zookeeper服务</p></li><li>添加hive服务，数据库选择<code>metastore</code></li></ol><h2 id="添加spark2服务"><a href="#添加spark2服务" class="headerlink" title="添加spark2服务"></a>添加spark2服务</h2><ol><li><p>准备文件</p><ul><li><p><a href="http://archive.cloudera.com/spark2/parcels/latest/" target="_blank" rel="noopener">spark2</a><br>  <img src="Snipaste_2018-06-29_09-21-18.png" alt=""><br>  <img src="Snipaste_2018-06-29_09-31-33.png" alt=""></p></li><li><p><a href="https://repo.continuum.io/pkgs/misc/parcels/" target="_blank" rel="noopener">Anaconda</a><br>  <img src="Snipaste_2018-06-29_09-21-57.png" alt=""></p></li></ul></li><li><p>安装步骤</p><ul><li>将<code>SPARK2_ON_YARN-2.1.0.cloudera2.jar</code>拷贝到<code>/opt/cloudera/csd</code>，并且更改用户权限<code>chown cloudera-scm:cloudera-scm</code></li><li>将其他文件拷贝到<code>/opt/cloudera/parcel-repo</code></li><li><p>关闭CDH集群，重启<code>cm server</code>和<code>cm agent</code>，启动CDH集群:</p>  <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service cloudera-scm-server restart</span><br><span class="line">service cloudera-scm-agent restart</span><br></pre></td></tr></table></figure></li><li><p>进入cm页面，选择<code>Hosts</code>——&gt;<code>Parcels</code>:<br>  <img src="Snipaste_2018-06-29_09-52-51.png" alt=""></p></li><li>按照提示进行分配安装，激活：<br>  <img src="Snipaste_2018-06-29_09-53-55.png" alt=""></li><li>点击集群，添加spark2服务。</li></ul></li><li>在python中正常import pyspark<ul><li>在<code>/etc/profile</code>中添加如下配置：<br><img src="Snipaste_2018-06-29_16-48-26.png" alt=""></li></ul></li></ol><h2 id="过程中遇到的问题"><a href="#过程中遇到的问题" class="headerlink" title="过程中遇到的问题"></a>过程中遇到的问题</h2><ul><li>问题1：<br>安装成功后运行pyspark代码报错：<br><img src="Snipaste_2018-06-29_09-58-27.png" alt=""><br>启动spark-shell报无法获取资源：<br><img src="Snipaste_2018-06-29_16-36-31.png" alt=""><blockquote><p>查到的资料：</p><ul><li><a href="https://stackoverflow.com/questions/30828879/application-report-for-application-state-accepted-never-ends-for-spark-submi/42324377" target="_blank" rel="noopener">https://stackoverflow.com/questions/30828879/application-report-for-application-state-accepted-never-ends-for-spark-submi/42324377</a></li><li><a href="http://www.cnblogs.com/zlslch/p/6683814.html" target="_blank" rel="noopener">http://www.cnblogs.com/zlslch/p/6683814.html</a></li><li><a href="http://community.cloudera.com/t5/Advanced-Analytics-Apache-Spark/spark-shell-stuck/td-p/57603" target="_blank" rel="noopener">http://community.cloudera.com/t5/Advanced-Analytics-Apache-Spark/spark-shell-stuck/td-p/57603</a></li><li><a href="https://community.cloudera.com/t5/Advanced-Analytics-Apache-Spark/Endless-INFO-Client-Application-report-for-application-xx/m-p/31461" target="_blank" rel="noopener">https://community.cloudera.com/t5/Advanced-Analytics-Apache-Spark/Endless-INFO-Client-Application-report-for-application-xx/m-p/31461</a></li></ul></blockquote></li></ul><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><ol><li><p>centOS7 端口占用解决</p> <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ss -lnp|grep 4040</span><br><span class="line"><span class="built_in">kill</span> -9 pid</span><br></pre></td></tr></table></figure><p> <img src="Snipaste_2018-06-29_16-45-42.png" alt=""></p></li></ol>]]></content>
      
      <categories>
          
          <category> CDH环境配置 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CDH </tag>
            
            <tag> 华为云 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>github&amp;hexo博客搭建教程</title>
      <link href="/2018/06/28/github-hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/"/>
      <url>/2018/06/28/github-hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/</url>
      <content type="html"><![CDATA[]]></content>
      
      
    </entry>
    
    <entry>
      <title>CDH伪分布搭建教程</title>
      <link href="/2018/06/27/CDH%E4%BC%AA%E5%88%86%E5%B8%83%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/"/>
      <url>/2018/06/27/CDH%E4%BC%AA%E5%88%86%E5%B8%83%E6%90%AD%E5%BB%BA%E6%95%99%E7%A8%8B/</url>
      <content type="html"><![CDATA[<h2 id="基础环境配置"><a href="#基础环境配置" class="headerlink" title="基础环境配置"></a>基础环境配置</h2><ul><li><p>配置hosts</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/hosts</span><br><span class="line">    192.168.137.134 master</span><br></pre></td></tr></table></figure></li><li><p><a href="https://www.jianshu.com/p/d6414b5295b8" target="_blank" rel="noopener">关闭防火墙</a></p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl stop firewalld.service  #停止firewall</span><br><span class="line">sudo systemctl disable firewalld.service  #禁止firewall开机启动</span><br><span class="line">sudo /etc/sysconfig/selinux</span><br><span class="line">    SELINUX=disabled  #修改</span><br><span class="line">sudo setenforce 0</span><br></pre></td></tr></table></figure></li><li><p>配置无密码登陆<br>  <img src="Snipaste_2018-05-30_20-21-36.png" alt=""><br>  <br><br>  <img src="Snipaste_2018-05-30_20-26-15.png" alt=""></p></li></ul><ul><li><p>配置本地yum源</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir /usr/local/src #1. 将CentOS-7-x86_64-DVD-1611.iso拷贝至此</span><br><span class="line">sudo mkdir /usr/local/media #2.</span><br><span class="line">sudo mount -o loop /usr/local/src/CentOS-7-x86_64-DVD-1611.iso /usr/local/mediaCentOS7/ #3.</span><br><span class="line">vim /etc/yum.repos.d/CentOS7-Localsource.repo #4. 并添加一下内容</span><br><span class="line">    [CentOS7-Localsource]</span><br><span class="line">    name=CentOS7</span><br><span class="line">    baseurl=file:///usr/local/media/CentOS7</span><br><span class="line">    enabled=1</span><br><span class="line">    gpgcheck=0</span><br><span class="line">sudo yum clean all #5.</span><br><span class="line">sudo yum makecache  #6.</span><br></pre></td></tr></table></figure></li><li><p>安装JDK</p><ul><li><p>卸载openJDK</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo rpm -qa | grep java</span><br><span class="line">sudo yum remove java*</span><br></pre></td></tr></table></figure></li><li><p>安装Oracle JDK</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">tar xvf jdk-8u144-linux-x64.gz #路径：/usr/java</span><br><span class="line"></span><br><span class="line">sudo vim /etc/profile</span><br><span class="line">    # 末尾添加</span><br><span class="line">    export JAVA_HOME=/usr/java/jdk1.8.0_144</span><br><span class="line">    export CLASSPATH=.:$CLASSPTAH:$JAVA_HOME/lib</span><br><span class="line">    export PATH=$PATH:$JAVA_HOME/bin</span><br><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure></li><li><p>安装成功显示<br>  <img src="Snipaste_2018-05-30_21-49-01.png" alt=""></p></li></ul></li><li><p>拷贝JDBC驱动包</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp mysql-connector-java.jar /usr/share/java #路径需要创建</span><br></pre></td></tr></table></figure></li><li><p>时区配置</p><ul><li><p>查看时区</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">date -R</span><br></pre></td></tr></table></figure></li><li><p>若不为+0800则更改时区为上海</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br></pre></td></tr></table></figure></li></ul></li></ul><ul><li><p><a href="https://www.linuxidc.com/Linux/2016-09/135288.htm" target="_blank" rel="noopener">安装mysql数据库</a></p><ul><li><p>安装mysql</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">wget http://dev.mysql.com/get/mysql57-community-release-el7-8.noarch.rpm</span><br><span class="line"></span><br><span class="line">sudo yum localinstall mysql57-community-release-el7-8.noarch.rpm</span><br><span class="line"></span><br><span class="line">sudo yum install -y mysql-community-server</span><br><span class="line"></span><br><span class="line">sudo systemctl start mysqld</span><br><span class="line"></span><br><span class="line">sudo systemctl enable mysqld</span><br><span class="line"></span><br><span class="line">sudo systemctl daemon-reload</span><br></pre></td></tr></table></figure></li><li><p>更改密码<br>  <img src="Snipaste_2018-05-30_21-54-14.png" alt=""></p></li><li>创建cm配置过程中所需的库<br>  <img src="Snipaste_2018-05-30_21-59-20.png" alt=""></li><li>配置用户权限<br>  <img src="Snipaste_2018-05-30_21-56-55.png" alt=""><br>  <br><br>  <img src="Snipaste_2018-05-30_21-58-14.png" alt=""></li></ul></li></ul><h2 id="CM安装"><a href="#CM安装" class="headerlink" title="CM安装"></a>CM安装</h2><ul><li><p>在节点安装CM</p><ul><li>拷贝CM相关文件至指定目录<br>  <img src="Snipaste_2018-05-30_22-06-29.png" alt=""></li><li><p>安装</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo yum localinstall --nogpgcheck *.rpm</span><br><span class="line">sudo ./scm_prepare_database.sh mysql -hmaster -uamon -pPassword3# --scm-host master scm scm Password3#</span><br></pre></td></tr></table></figure><p>  <img src="Snipaste_2018-05-30_22-17-21.png" alt=""></p></li></ul></li></ul><h2 id="CDH服务安装"><a href="#CDH服务安装" class="headerlink" title="CDH服务安装"></a>CDH服务安装</h2><ul><li><p>启动服务</p>  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo service cloudera-scm-server start</span><br><span class="line">sudo service cloudera-scm-agent start</span><br></pre></td></tr></table></figure></li><li><p>准备安装文件<br>  <img src="Snipaste_2018-05-30_22-25-07.png" alt=""></p></li><li>安装cdh<ul><li>登录master:7180，显示如下界面，user/password:admin/admin<br>  <img src="Snipaste_2018-05-30_22-27-15.png" alt=""></li><li>选择试用版<br>  <img src="Snipaste_2018-05-30_22-29-08.png" alt=""></li><li>选择节点<br>  <img src="Snipaste_2018-05-30_22-30-18.png" alt=""><br>  <br><br>  <img src="Snipaste_2018-05-30_22-30-31.png" alt=""></li><li>安装cdh<br>  <img src="Snipaste_2018-05-31_00-03-54.png" alt=""><br>  <br><br>  <img src="Snipaste_2018-05-31_00-04-34.png" alt=""><br>  <br><br>  <img src="Snipaste_2018-05-31_00-05-09.png" alt=""><br>  <br><br>  <img src="Snipaste_2018-05-31_00-10-41.png" alt=""><br>  <br><br>  <img src="Snipaste_2018-05-31_00-14-54.png" alt=""><br>  <br><br>  <img src="Snipaste_2018-05-31_00-15-29.png" alt=""><br>  <br><br>  <img src="Snipaste_2018-05-31_00-16-47.png" alt=""><br>  <br><br>  <img src="Snipaste_2018-05-31_00-18-34.png" alt=""><br>  <br><br>  <img src="Snipaste_2018-05-31_00-19-12.png" alt=""><br>  <br><br>  <img src="Snipaste_2018-05-31_00-41-40.png" alt=""><br>  <br><br>  <img src="Snipaste_2018-05-31_00-46-55.png" alt=""></li></ul></li></ul><h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><ul><li>问题1：<ul><li>安装yarn的过程中出错：<br>  <img src="Snipaste_2018-05-31_00-36-24.png" alt=""></li><li>解决方案<br>  <a href="http://www.cnblogs.com/DBA-Ivan/p/7898235.html" target="_blank" rel="noopener">更改目录权限</a><br>  <img src="Snipaste_2018-05-31_00-54-58.png" alt=""><br>  <img src="Snipaste_2018-05-31_00-55-05.png" alt=""></li></ul></li></ul>]]></content>
      
      <categories>
          
          <category> CDH环境配置 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hadoop </tag>
            
            <tag> CDH </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
